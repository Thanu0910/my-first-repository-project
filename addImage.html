<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add-Image Page</title>

    <!-- CSS -->
    <link rel="stylesheet" href="addImage.css">

    <!-- Iconscout -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

</head>

<body>

    <div class="container">
        <header>Add Image</header>
        <form action="#">
            <div class="form first">
                <div class="details Personal">
                    <div class="fields">
                        <div class="input-field">
                            <label>Image Name</label>
                            <input type="text" placeholder="Enter the image name" required>
                        </div>

                        <div class="input-field">
                            <label>Image Size</label>
                            <input type="text" placeholder="Enter the size of the image" required>
                        </div>

                        <!-- <div class="input-field">
                            <label>Event Date</label>
                            <input type="date" placeholder="Enter present date" required>
                        </div> -->

                        <div class="container1">
                            <div class="wrapper">
                               <div class="content">
                                  <div class="icon">
                                     <i class="fas fa-cloud-upload-alt"></i>
                                  </div>
                                  <div class="text">
                                     No file chosen, yet!
                                  </div>
                               </div>
                               <div id="cancel-btn">
                                  <i class="fas fa-times"></i>
                               </div>
                               <div class="file-name">
                                  File name here
                               </div>
                            </div>
                            <button onclick="defaultBtnActive()" id="custom-btn">Choose a file</button>
                            <input id="default-btn" type="file" hidden>
                         </div>


                        <div class="button1">
                            <button type="button" class="button">
                                <span class="button__text"><a href="#">Add Image</a> </span>
                                <span class="button__icon">
                                    <i class="uil uil-image-plus"></i>
                                </span>
                            </button>
                        </div>
                        <div class="button2">
                            <button type="button" class="button">
                                <span class="button__text"><a href="#" target="_blank">Delete Image</a> </span>
                                <span class="button__icon">
                                    <i class="uil uil-image-times"></i>
                                </span>
                            </button>
                        </div>

                        <div class="button3">
                            <button type="button" class="button">
                                <span class="button__text"><a href="#" target="_blank">Edit Image</a> </span>
                                <span class="button__icon">
                                    <i class="uil uil-image-edit"></i>
                                </span>
                            </button>
                        </div>

                    </div>
                </div>
            </div>
        </form>
    </div>

    <script>
        const wrapper = document.querySelector(".wrapper");
        const fileName = document.querySelector(".file-name");
        const defaultBtn = document.querySelector("#default-btn");
        const customBtn = document.querySelector("#custom-btn");
        const cancelBtn = document.querySelector("#cancel-btn i");
        const img = document.querySelector("img");
        let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
        function defaultBtnActive(){
          defaultBtn.click();
        }
        defaultBtn.addEventListener("change", function(){
          const file = this.files[0];
          if(file){
            const reader = new FileReader();
            reader.onload = function(){
              const result = reader.result;
              img.src = result;
              wrapper.classList.add("active");
            }
            cancelBtn.addEventListener("click", function(){
              img.src = "";
              wrapper.classList.remove("active");
            })
            reader.readAsDataURL(file);
          }
          if(this.value){
            let valueStore = this.value.match(regExp);
            fileName.textContent = valueStore;
          }
        });
     </script>
</body>

</html>